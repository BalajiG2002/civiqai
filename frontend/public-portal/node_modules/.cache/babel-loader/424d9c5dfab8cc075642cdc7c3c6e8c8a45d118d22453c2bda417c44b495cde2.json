{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useCallback } from 'react';\nconst BASE = process.env.REACT_APP_API_URL || 'http://localhost:8080';\nexport function useSSE(onEvent) {\n  _s();\n  useEffect(() => {\n    const es = new EventSource(`${BASE}/stream`);\n    es.onmessage = e => {\n      try {\n        const data = JSON.parse(e.data);\n        onEvent(data);\n      } catch (_) {}\n    };\n    es.onerror = () => es.close();\n    return () => es.close();\n  }, [onEvent]);\n}\n_s(useSSE, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");","map":{"version":3,"names":["useEffect","useCallback","BASE","process","env","REACT_APP_API_URL","useSSE","onEvent","_s","es","EventSource","onmessage","e","data","JSON","parse","_","onerror","close"],"sources":["C:/Users/NISHANTH MEGAN/civiqai/frontend/public-portal/src/hooks/useSSE.js"],"sourcesContent":["import { useEffect, useCallback } from 'react';\r\n\r\nconst BASE = process.env.REACT_APP_API_URL || 'http://localhost:8080';\r\n\r\nexport function useSSE(onEvent) {\r\n  useEffect(() => {\r\n    const es = new EventSource(`${BASE}/stream`);\r\n\r\n    es.onmessage = (e) => {\r\n      try {\r\n        const data = JSON.parse(e.data);\r\n        onEvent(data);\r\n      } catch (_) {}\r\n    };\r\n\r\n    es.onerror = () => es.close();\r\n\r\n    return () => es.close();\r\n  }, [onEvent]);\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAE9C,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAErE,OAAO,SAASC,MAAMA,CAACC,OAAO,EAAE;EAAAC,EAAA;EAC9BR,SAAS,CAAC,MAAM;IACd,MAAMS,EAAE,GAAG,IAAIC,WAAW,CAAC,GAAGR,IAAI,SAAS,CAAC;IAE5CO,EAAE,CAACE,SAAS,GAAIC,CAAC,IAAK;MACpB,IAAI;QACF,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,CAAC,CAACC,IAAI,CAAC;QAC/BN,OAAO,CAACM,IAAI,CAAC;MACf,CAAC,CAAC,OAAOG,CAAC,EAAE,CAAC;IACf,CAAC;IAEDP,EAAE,CAACQ,OAAO,GAAG,MAAMR,EAAE,CAACS,KAAK,CAAC,CAAC;IAE7B,OAAO,MAAMT,EAAE,CAACS,KAAK,CAAC,CAAC;EACzB,CAAC,EAAE,CAACX,OAAO,CAAC,CAAC;AACf;AAACC,EAAA,CAfeF,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}