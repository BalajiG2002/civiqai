{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\NISHANTH MEGAN\\\\civiqai\\\\frontend\\\\public-portal\\\\src\\\\components\\\\ComplaintFeed.jsx\";\nimport ComplaintCard from './ComplaintCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ISSUE_TYPES = ['pothole', 'water_leak', 'garbage_overflow', 'streetlight_failure', 'power_outage', 'waterlogging', 'sewage_overflow', 'tree_fallen'];\nexport default function ComplaintFeed({\n  complaints,\n  loading,\n  filter,\n  setFilter,\n  onCardClick\n}) {\n  const counts = {\n    total: complaints.length,\n    open: complaints.filter(c => c.status === 'open').length,\n    resolved: complaints.filter(c => c.status === 'resolved').length,\n    p1: complaints.filter(c => c.priority === 'P1').length\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-4 gap-2 mb-3\",\n      children: [{\n        label: 'Total',\n        val: counts.total,\n        color: 'text-slate-700'\n      }, {\n        label: 'Open',\n        val: counts.open,\n        color: 'text-red-600'\n      }, {\n        label: 'Resolved',\n        val: counts.resolved,\n        color: 'text-green-600'\n      }, {\n        label: 'P1',\n        val: counts.p1,\n        color: 'text-red-700 font-bold'\n      }].map(s => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg border p-2 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: `text-lg font-bold ${s.color}`,\n          children: s.val\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-slate-500\",\n          children: s.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }, this)]\n      }, s.label, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2 mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: filter.status,\n        onChange: e => setFilter(f => ({\n          ...f,\n          status: e.target.value\n        })),\n        className: \"flex-1 text-sm border border-slate-300 rounded-lg\\r px-2 py-1.5 focus:outline-none focus:ring-2\\r focus:ring-blue-400 bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"open\",\n          children: \"Open\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"in_progress\",\n          children: \"In Progress\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"resolved\",\n          children: \"Resolved\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: filter.issue_type,\n        onChange: e => setFilter(f => ({\n          ...f,\n          issue_type: e.target.value\n        })),\n        className: \"flex-1 text-sm border border-slate-300 rounded-lg\\r px-2 py-1.5 focus:outline-none focus:ring-2\\r focus:ring-blue-400 bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All Issues\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), ISSUE_TYPES.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: t,\n          children: t.replace(/_/g, ' ')\n        }, t, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto space-y-3 pr-1\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-slate-400 py-10\",\n        children: \"Loading complaints...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this) : complaints.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-slate-400 py-10\",\n        children: \"No complaints found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this) : complaints.map(c => /*#__PURE__*/_jsxDEV(ComplaintCard, {\n        complaint: c,\n        onClick: onCardClick\n      }, c.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this);\n}\n_c = ComplaintFeed;\nvar _c;\n$RefreshReg$(_c, \"ComplaintFeed\");","map":{"version":3,"names":["ComplaintCard","jsxDEV","_jsxDEV","ISSUE_TYPES","ComplaintFeed","complaints","loading","filter","setFilter","onCardClick","counts","total","length","open","c","status","resolved","p1","priority","className","children","label","val","color","map","s","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","f","target","issue_type","t","replace","complaint","onClick","id","_c","$RefreshReg$"],"sources":["C:/Users/NISHANTH MEGAN/civiqai/frontend/public-portal/src/components/ComplaintFeed.jsx"],"sourcesContent":["import ComplaintCard from './ComplaintCard';\r\n\r\nconst ISSUE_TYPES = [\r\n  'pothole','water_leak','garbage_overflow',\r\n  'streetlight_failure','power_outage',\r\n  'waterlogging','sewage_overflow','tree_fallen'\r\n];\r\n\r\nexport default function ComplaintFeed({\r\n  complaints, loading, filter, setFilter, onCardClick\r\n}) {\r\n  const counts = {\r\n    total:    complaints.length,\r\n    open:     complaints.filter(c => c.status === 'open').length,\r\n    resolved: complaints.filter(c => c.status === 'resolved').length,\r\n    p1:       complaints.filter(c => c.priority === 'P1').length\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n\r\n      {/* Stats bar */}\r\n      <div className=\"grid grid-cols-4 gap-2 mb-3\">\r\n        {[\r\n          { label: 'Total',    val: counts.total,    color: 'text-slate-700' },\r\n          { label: 'Open',     val: counts.open,     color: 'text-red-600'   },\r\n          { label: 'Resolved', val: counts.resolved, color: 'text-green-600' },\r\n          { label: 'P1',       val: counts.p1,       color: 'text-red-700 font-bold' }\r\n        ].map(s => (\r\n          <div key={s.label}\r\n               className=\"bg-white rounded-lg border p-2 text-center\">\r\n            <p className={`text-lg font-bold ${s.color}`}>{s.val}</p>\r\n            <p className=\"text-xs text-slate-500\">{s.label}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"flex gap-2 mb-3\">\r\n        <select\r\n          value={filter.status}\r\n          onChange={e => setFilter(f => ({ ...f, status: e.target.value }))}\r\n          className=\"flex-1 text-sm border border-slate-300 rounded-lg\r\n                     px-2 py-1.5 focus:outline-none focus:ring-2\r\n                     focus:ring-blue-400 bg-white\"\r\n        >\r\n          <option value=\"\">All Status</option>\r\n          <option value=\"open\">Open</option>\r\n          <option value=\"in_progress\">In Progress</option>\r\n          <option value=\"resolved\">Resolved</option>\r\n        </select>\r\n\r\n        <select\r\n          value={filter.issue_type}\r\n          onChange={e => setFilter(f => ({ ...f, issue_type: e.target.value }))}\r\n          className=\"flex-1 text-sm border border-slate-300 rounded-lg\r\n                     px-2 py-1.5 focus:outline-none focus:ring-2\r\n                     focus:ring-blue-400 bg-white\"\r\n        >\r\n          <option value=\"\">All Issues</option>\r\n          {ISSUE_TYPES.map(t => (\r\n            <option key={t} value={t}>\r\n              {t.replace(/_/g,' ')}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Feed */}\r\n      <div className=\"flex-1 overflow-y-auto space-y-3 pr-1\">\r\n        {loading ? (\r\n          <div className=\"text-center text-slate-400 py-10\">\r\n            Loading complaints...\r\n          </div>\r\n        ) : complaints.length === 0 ? (\r\n          <div className=\"text-center text-slate-400 py-10\">\r\n            No complaints found\r\n          </div>\r\n        ) : (\r\n          complaints.map(c => (\r\n            <ComplaintCard key={c.id} complaint={c}\r\n                           onClick={onCardClick} />\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}